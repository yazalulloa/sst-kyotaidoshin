<div id="header-container" hx-swap-oob="true"
     class="flex flex-col flex-wrap items-center text-center fade-me-out fade-me-in w-full">


  <div class="flex flex-row flex-wrap w-full items-center justify-start gap-2 text-center">

    <div class="flex flex-row gap-2 justify-center min-w-[6rem]"
         x-data="{
   total: null,
   query: null
  }">
      <div id="bcv-files-counters" hidden="hidden"></div>
      <div x-show="total" class="flex flex-row gap-0">
        <span x-text="$t('main-title-bcv-files')"></span><span>:&nbsp;</span><span x-text="total"></span>
      </div>
    </div>

    <button x-show="hasPerm('bcv_files:write')"
            hx-get="/api/bcv-files/process-all"
            hx-trigger="mousedown"
            hx-swap="none"
            hx-disabled-elt="this"
            hx-indicator=".htmx-indicator"
            type="button"
            class="btn btn-neutral"
            x-text="$t('main-action-process-all')">
    </button>

    <button x-show="hasPerm('bcv_files:write')"
            hx-get="/api/bcv-files/look-up"
            hx-trigger="mousedown"
            hx-swap="none"
            hx-disabled-elt="this"
            hx-indicator=".htmx-indicator"
            type="button"
            class="btn btn-neutral"
            x-text="$t('main-action-bcv-files-look-up')">
    </button>

    <button x-show="hasPerm('rates:write')"
            hx-put="/api/rates/trend"
            hx-trigger="mousedown"
            hx-swap="none"
            hx-disabled-elt="this"
            hx-indicator=".htmx-indicator"
            type="button"
            class="btn btn-neutral"
            x-text="$t('main-action-rates-change-trend')">
    </button>
  </div>

  <div class="hidden md:grid w-full font-bold items-center text-center border-b pt-2"
       x-bind:class="hasPerm('bcv_files:write') ? 'md:grid-cols-[2fr_1fr_1fr_1fr_2fr_1fr_1fr_2fr_2fr_1fr]' : 'md:grid-cols-[2fr_1fr_1fr_1fr_2fr_1fr_1fr_2fr_2fr]'">
    <span x-text="$t('main-title-file')"></span>
    <span x-text="$t('main-title-rates')"></span>
    <span x-text="$t('main-title-sheets')"></span>
    <span x-text="$t('main-title-file-size')"></span>
    <span x-text="$t('main-title-date')"></span>
    <span x-text="$t('main-title-etag')"></span>
    <span x-text="$t('main-title-last-modified')"></span>
    <span x-text="$t('main-title-processed-at')"></span>
    <span x-text="$t('main-title-created-at')"></span>
    <span x-show="hasPerm('bcv_files:write')" x-text="$t('main-title-actions')"></span>
  </div>

</div>

<div id="container" hx-swap-oob="true" class="fade-me-out fade-me-in pt-2">
  <ul class="flex flex-col gap-2 *:md:grid *:md:gap-2 *:flex *:flex-row *:flex-wrap *:justify-between *:gap-4 *:items-center *:text-center"
      x-bind:class="hasPerm('bcv_files:write') ? '*:md:grid-cols-[2fr_1fr_1fr_1fr_2fr_1fr_1fr_2fr_2fr_1fr]' : '*:md:grid-cols-[2fr_1fr_1fr_1fr_2fr_1fr_1fr_2fr_2fr]'">
    <li hidden="hidden"
        hx-get="/api/bcv-files"
        hx-trigger="load"
        hx-swap="outerHTML"
        hx-sync="this:replace"
        hx-indicator=".htmx-indicator">
    </li>
  </ul>

</div>