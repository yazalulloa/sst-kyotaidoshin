<div id="header-container" hx-swap-oob="true"
     class="flex flex-row items-center gap-2 text-center fade-me-out fade-me-in">

  <div class="flex flex-row gap-2 justify-center min-w-[6rem]"
       x-data="{
   total: null,
   query: null
  }">
    <div id="buildings-counters" hidden="hidden"></div>
    <div x-show="total" class="flex flex-row gap-0">
      <span x-text="$t('main-title-buildings')"></span><span>:&nbsp;</span><span x-text="total"></span>
    </div>
    <div x-show="query" class="flex flex-row gap-0">
      <span x-text="$t('main-title-items')"></span><span>:&nbsp;</span><span x-text="query"></span>
    </div>
  </div>

  <a x-show="hasPerm('buildings:write')"
     type="button"
     href="/buildings/new"
     class="whitespace-nowrap border px-4 py-2 text-center text-sm font-medium tracking-wide transition rounded-radius bg-primary border-primary text-on-primary hover:opacity-75 focus-visible:outline-primary focus-visible:outline-2 focus-visible:outline-offset-2 active:opacity-100 active:outline-offset-0 disabled:cursor-not-allowed disabled:opacity-75 dark:bg-primary-dark dark:border-primary-dark dark:text-on-primary-dark dark:focus-visible:outline-primary-dark"
     title="New building"
     x-text="$t('main-title-buildings-new')">
  </a>

  <div x-show="hasPerm('buildings:upload_backup')"
       x-data="{
        formId: 'buildings-upload-backup',
        uploadFormPath: '/api/buildings/uploadBackupForm',
        uploadFileCallback: '/api/buildings/upload/backup',
        callBackSwap: 'innerHTML',
        btnText: 'main-action-upload-backup',
        fileAccept: '.json.gz'
       }">
    <div hidden="hidden"
         x-bind:hx-get="uploadFormPartialUrl"
         hx-trigger="load"
         hx-swap="outerHTML">
    </div>
  </div>

  <div id="buildings-updater"
       hidden="hidden"
       hx-get="/api/buildings/search"
       hx-trigger="load, update-buildings"
       hx-target="#buildings-table"
       hx-swap="innerHTML"
       hx-sync="this:replace"
       hx-indicator=".htmx-indicator">
  </div>

</div>

<div id="container" hx-swap-oob="true" class="fade-me-out fade-me-in">
  <ul id="buildings-table"
      class="flex flex-col gap-2 *:md:grid *:flex *:flex-row *:flex-wrap *:gap-4 *:justify-around *:text-center *:items-center *:rounded-radius *:border *:border-outline *:bg-surface-alt *:dark:border-outline-dark *:dark:bg-surface-dark-alt">
  </ul>

</div>