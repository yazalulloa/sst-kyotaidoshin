<div id="header-container" hx-swap-oob="true"
     class="flex flex-row items-center gap-2 text-center fade-me-out fade-me-in">

  <button hx-get="/api/telegram/start"
          hx-trigger="mousedown"
          hx-target="#default-anchor"
          hx-swap="innerHTML"
          hx-disabled-elt="this"
          hx-indicator=".htmx-indicator"
          type="button"
  >
    <svg x-bind:data-src="telegramIconUrl" class="h-6 w-6"></svg>
  </button>

</div>

<div id="container" hx-swap-oob="true" class="p-4 fade-me-out fade-me-in">

  <div class="flex flex-col gap-2">
    <div class="flex flex-row gap-2">
      <h2 class="heading-2 font-bold underline mb-2 scroll-mt-20 font-merriweather">Telegram</h2>
      <svg x-bind:data-src="telegramIconUrl" class="h-6 w-6"></svg>
    </div>

    <div class="flex flex-row gap-2">
      <button x-show="hasPerm('admin:admin')"
              hx-post="/api/telegram/webhook"
              hx-trigger="mousedown"
              hx-swap="none"
              hx-disabled-elt="this"
              hx-indicator=".htmx-indicator"
              type="button"
              class="btn btn-neutral"
              x-text="$t('main-action-set-webhook')"
              data-recaptcha-action="telegram_set_webhook">
      </button>

      <button x-show="hasPerm('admin:admin')"
              hx-delete="/api/telegram/webhook"
              hx-trigger="mousedown"
              hx-swap="none"
              hx-disabled-elt="this"
              hx-indicator=".htmx-indicator"
              type="button"
              class="btn btn-neutral"
              x-text="$t('main-action-delete-webhook')"
              data-recaptcha-action="telegram_delete_webhook">
      </button>
    </div>

    <div hx-get="/api/telegram/info"
         hx-disabled-elt="this"
         hx-trigger="load, every 2s"
         hx-swap="innerHTML"
         class="text-start"
    >
      <svg x-bind:data-src="loadingIconUrl"
           class="size-7 motion-safe:animate-spin fill-primary dark:fill-primary-dark"></svg>
    </div>

  </div>


</div>